<html>

<head>
  <link rel="stylesheet" type="text/css" href="drawing.css">
</head>

<body>


  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" id='svgcode'
    width='500' height='3000' viewBox="-90 0 500 3000" >
    <marker id="triangle"
      viewBox="0 0 10 10" refX="0" refY="5"
      markerUnits="strokeWidth"
      markerWidth="4" markerHeight="8"
      orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" />
    </marker>
  </svg>

  
<div id='drawing' style='position: absolute; top: 10px; left: 100px; z-index: -1;'>

  
  
  
  
    <div class='instruction information' id='pc_0'>
      <div class="pc">0:information</div>
      <div class="body">This protocol tests a few things, and will start with helping you take and release %{object_name}.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction take' id='pc_1'>
      <div class="pc">1:take</div>
      <div class="body">Take 1 of <i>%{object_name}</i> and refer to it as b.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_2'>
      <div class="pc">2:assign</div>
      <div class="body">name := %{b}.object[:name]</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_3'>
      <div class="pc">3:assign</div>
      <div class="body">loc := %{b}.item[:location]</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_4'>
      <div class="pc">4:step</div>
      <div class="body">You took an object of type %{name} from location %{loc}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction release' id='pc_5'>
      <div class="pc">5:release</div>
      <div class="body">Put %{b} away.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_6'>
      <div class="pc">6:step</div>
      <div class="body">Thank you for returning the %{name}.<span class='note'>Note: That was very respectful of you.</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_7'>
      <div class="pc">7:step</div>
      <div class="body">Would you like to produce a bottle?<span class='getdata'>Input: <i>answer</i>: Enter yes or no.</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction if' id='pc_8'>
      <div class="pc">8:if</div>
      <div class="body"><span class='note'>%{answer} == 'yes'</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_9'>
      <div class="pc">9:step</div>
      <div class="body">Enter the location you will put the bottle.<span class='getdata'>Input: <i>new_location</i>: Enter location.</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction produce' id='pc_10'>
      <div class="pc">10:produce</div>
      <div class="body">Store 1000 mL Bottle %{new_location}.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_11'>
      <div class="pc">11:step</div>
      <div class="body">Ok! Check the inventory. There should be a new bottle at %{new_location}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction goto' id='pc_12'>
      <div class="pc">12:goto</div>
      <div class="body">14</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_13'>
      <div class="pc">13:step</div>
      <div class="body">Suit yourself. No bottles will be produced.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_14'>
      <div class="pc">14:step</div>
      <div class="body">Now let's print out the first few numbers in the Fibonacci sequence.</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_15'>
      <div class="pc">15:assign</div>
      <div class="body">x := 0</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_16'>
      <div class="pc">16:assign</div>
      <div class="body">y := 1</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction while' id='pc_17'>
      <div class="pc">17:while</div>
      <div class="body"><span class='note'>%{y} < 100</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_18'>
      <div class="pc">18:step</div>
      <div class="body">y = %{y}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction if' id='pc_19'>
      <div class="pc">19:if</div>
      <div class="body"><span class='note'>%{y} > 50</span></div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_20'>
      <div class="pc">20:step</div>
      <div class="body">Hey! y is getting pretty big!</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction goto' id='pc_21'>
      <div class="pc">21:goto</div>
      <div class="body">23</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_22'>
      <div class="pc">22:step</div>
      <div class="body">y is not such a big number ... yet!</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_23'>
      <div class="pc">23:assign</div>
      <div class="body">temp := %{x}+%{y}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_24'>
      <div class="pc">24:assign</div>
      <div class="body">x := %{y}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction assign' id='pc_25'>
      <div class="pc">25:assign</div>
      <div class="body">y := %{temp}</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction goto' id='pc_26'>
      <div class="pc">26:goto</div>
      <div class="body">17</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction log' id='pc_27'>
      <div class="pc">27:log</div>
      <div class="body"><i>FIBONACCI_REPORT</i>: We computed the sequence all the way up to %{y}!</div>
      
      
    </div><div class="connector"></div>
  
    <div class='instruction step' id='pc_28'>
      <div class="pc">28:step</div>
      <div class="body">All done. Thank you for running this protocol.</div>
      
      
    </div><div class="connector"></div>
  
    
</div>

<script>

  first = document.getElementById('pc_0');
  middle = first.offsetLeft + first.offsetWidth/2-2;

  function edge(a,b) {

    from = document.getElementById('pc_'+a);
    to = document.getElementById('pc_'+b);

    line = document.createElementNS(svgNS,'line');

    line.setAttributeNS ( null, 'x1', middle  );
    line.setAttributeNS ( null, 'y1', from.offsetTop + from.offsetHeight + 2 );
    line.setAttributeNS ( null, 'x2', middle   );
    line.setAttributeNS ( null, 'y2', to.offsetTop - 5);

    line.setAttributeNS(null,"fill","none");
    line.setAttributeNS(null,"stroke","black");
    line.setAttributeNS(null,"stroke-width",2);
    line.setAttributeNS(null,"marker-end","url(#triangle)");

    return line;

  }

  function goto(a,b,side) {

    from = document.getElementById('pc_'+a);
    to = document.getElementById('pc_'+b);

    p = document.createElementNS(svgNS,'polyline');

    if ( side != 'left' ) {

      if ( a < b ) {
        sigma = 2.25;
      } else {
        sigma = 2.5;
      }
      p1 = (from.offsetLeft+from.offsetWidth+2)   + ", " + (from.offsetTop+from.offsetHeight/2);
      p2 = (sigma*middle) + ", " + (from.offsetTop+from.offsetHeight/2);
      p3 = (sigma*middle) + ", " + (to.offsetTop+to.offsetHeight/2);   
      p4 = (to.offsetLeft+to.offsetWidth+9) + ", " + (to.offsetTop+to.offsetHeight/2);

    } else {

      if ( b-a < 4 ) {
        sigma = -1/5.0;
      } else {
        sigma = -2/5.0;
      }

      p1 = (from.offsetLeft+2)   + ", " + (from.offsetTop+from.offsetHeight/2);
      p2 = (sigma*middle) + ", " + (from.offsetTop+from.offsetHeight/2);
      p3 = (sigma*middle) + ", " + (to.offsetTop+to.offsetHeight/2);   
      p4 = (to.offsetLeft-6) + ", " + (to.offsetTop+to.offsetHeight/2);

    }

    p.setAttributeNS ( null, 'points', p1 + " " + p2 + " " + p3 + " " + p4 );

    p.setAttributeNS(null,"fill","none");
    p.setAttributeNS(null,"stroke","black");
    p.setAttributeNS(null,"stroke-width",2);
    p.setAttributeNS(null,"marker-end","url(#triangle)");

    return p;

  }

  s = document.getElementById('svgcode');

  var svgNS = "http://www.w3.org/2000/svg";

  

    
      s.appendChild(edge(0,1));
    

  

    
      s.appendChild(edge(1,2));
    

  

    
      s.appendChild(edge(2,3));
    

  

    
      s.appendChild(edge(3,4));
    

  

    
      s.appendChild(edge(4,5));
    

  

    
      s.appendChild(edge(5,6));
    

  

    
      s.appendChild(edge(6,7));
    

  

    
      s.appendChild(edge(7,8));
    

  

    
      s.appendChild(edge(8,9));
    

  

    
      s.appendChild(goto(8,13,'left'));
    

  

    
      s.appendChild(edge(9,10));
    

  

    
      s.appendChild(edge(10,11));
    

  

    
      s.appendChild(edge(11,12));
    

  

    
      s.appendChild(goto(12,14,''));
    

  

    
      s.appendChild(edge(13,14));
    

  

    
      s.appendChild(edge(14,15));
    

  

    
      s.appendChild(edge(15,16));
    

  

    
      s.appendChild(edge(16,17));
    

  

    
      s.appendChild(edge(17,18));
    

  

    
      s.appendChild(goto(17,27,'left'));
    

  

    
      s.appendChild(edge(18,19));
    

  

    
      s.appendChild(edge(19,20));
    

  

    
      s.appendChild(goto(19,22,'left'));
    

  

    
      s.appendChild(edge(20,21));
    

  

    
      s.appendChild(goto(21,23,''));
    

  

    
      s.appendChild(edge(22,23));
    

  

    
      s.appendChild(edge(23,24));
    

  

    
      s.appendChild(edge(24,25));
    

  

    
      s.appendChild(edge(25,26));
    

  

    
      s.appendChild(goto(26,17,''));
    

  

    
      s.appendChild(edge(27,28));
    

  

</script>

</body>

</html>