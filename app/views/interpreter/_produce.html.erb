<h1>Store New <%= @instruction.object_type %></h1>

<p>Enter/edit location:<br />
  <input id='location' oninput='check_format()' class='input-medium'
    value = '<%= ObjectType.find_by_name(@instruction.object_type).location_wizard %>'>
  </input>
</p>

<script>

  function check_format() {
    var p = /[A-Z][1-9][0-9]*\.[1-9][0-9][0-9]$/;
    var loc = document.getElementById('location').value;
    if ( p.test(loc) ) {
      document.getElementById('advance-button').disabled = false;
    } else {
      document.getElementById('advance-button').disabled = true;
    }
  }

  window.onload = function() {
    document.getElementById('advance-button').addEventListener('click', function() {
      var m = document.getElementById('location').value;
      window.location = advance_url() + '&location=' + m;
    } );
    check_format();
  }

</script>


