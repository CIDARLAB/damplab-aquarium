<div ng-show="mode == 'test'" ng-controller="operationTypeTestCtrl as tester">

  <form class='form-inline'>
    <label>Batch Size: </label>
    <input type='number' 
           ng-model="current_ot.batch_size" 
           placeholder="Batch Size"
           class="input-small">
    </input>
    <a href="#" class="btn" ng-click="randomize(current_ot)">Generate Operations</a>
    <a href="#" class="btn btn-warning">Run Test</a>
  </form>

  <table class='table table-fixed table-condensed'>
    <tr>
      <th>User</th>
      <th>Inputs</th>
      <th>Ouputs</th> 
    </tr>
    <tr ng-repeat="op in current_ot.test_operations | filter: { operation_type_id: current_ot.id, status: 'pending'}">
      <td>{{user.find(op.user_id).name}}</td>
      <td>
        <ul class='input-list'>
          <li ng-repeat="fv in op.field_values | filter: { role: 'input' }">
            {{fv.name}}: {{fv.child_sample.name}}
          </li>
        </ul>              
      </td>       
      <td>
        <ul class='input-list'>
          <li ng-repeat="fv in op.field_values | filter: { role: 'output' }">
            {{fv.name}}: {{fv.child_sample.name}}
          </li>
        </ul>              
      </td>         
    </tr>
  </table>

  <div class="test-backtrace">
    Test results here.
  </div>

</div>
