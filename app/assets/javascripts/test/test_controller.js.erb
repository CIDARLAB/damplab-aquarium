(function() {

  var w = angular.module('aquarium'); 

  w.controller('testCtrl', [ '$scope', '$http', 
                function (  $scope,   $http ) {

    AQ.init($http);
    AQ.update = () => { $scope.$apply(); }
    AQ.confirm = (msg) => { return confirm(msg); }

    <% if Rails.env.development? %>  
      $scope.shark = shark;
      $scope.shark.run();
    <% else %>
      $scope.shark = { 
        run: function() {
          alert("Tests not availale in production")
        }
      }
    <% end %>

  }]);

})();                    
